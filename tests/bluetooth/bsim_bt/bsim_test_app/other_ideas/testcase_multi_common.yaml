common:
  devices:
    - name: "2G4_phy"
      application: "bsim/bin/bs_2G4_phy_v1"
      bsim_only: true
      bsim_extra_args:
        - "-sim_length=20e6"


tests:
  bluetooth.bsim.app_split:
    sysbuild: true
    multidevice: true
    devices:
      - name: "peripheral"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=peripheral"
          - "-RealEncryption=0"
          - "-rs=23"
      - name: "central"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=central"
          - "-RealEncryption=0"
          - "-rs=6"

  bluetooth.bsim.app_split_encrypted:
    sysbuild: true
    multidevice: true
    devices:
      - name: "peripheral"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=peripheral"
          - "-RealEncryption=1"
          - "-rs=23"
      - name: "central"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=central"
          - "-RealEncryption=1"
          - "-rs=6"

  bluetooth.bsim.app_split_low_lat:
    sysbuild: true
    multidevice: true
    devices:
      - name: "peripheral"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_low_lat_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=peripheral"
          - "-RealEncryption=0"
          - "-rs=23"
      - name: "central"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_low_lat_build"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=central"
          - "-RealEncryption=0"
          - "-rs=6"

  bluetooth.bsim.app_split_privacy_encrypted:
    sysbuild: true
    multidevice: true
    devices:
      - name: "peripheral"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_privacy_encrypted"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=peripheral"
          - "-RealEncryption=1"
          - "-rs=23"
      - name: "central"
        application: "tests/bluetooth/bsim_bt/bsim_test_gatt_caching/bluetooth.bsim.app_split_privacy_encrypted"
        harness: console
        harness_config:
          type: one_line
          regex:
            - "*** Booting Zephyr OS build"
        bsim_extra_args:
          - "-testid=central"
          - "-RealEncryption=1"
          - "-rs=6"